<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionale Fantacalcio</title>
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <body>
        <!-- ✅ WIZARD PRIMO ACCESSO -->
        <div id="firstTimeWizard" class="wizard-container" style="display: none;">
            <div class="wizard-content">
                <h1><i class="fas fa-futbol"></i> Benvenuto nel Gestionale Fantacalcio!</h1>
                <p>Come vuoi iniziare?</p>

                <div class="wizard-options">
                    <div class="wizard-option">
                        <i class="fas fa-file-csv" style="font-size: 3rem; color: var(--primary-color);"></i>
                        <h3>Importa da CSV</h3>
                        <p>Carica la tua rosa da un file CSV</p>
                        <input type="file" id="wizardCSVInput" accept=".csv" style="display: none;">
                        <label for="wizardCSVInput" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Seleziona File CSV
                        </label>
                    </div>

                    <div class="wizard-option">
                        <i class="fas fa-keyboard" style="font-size: 3rem; color: var(--success-color);"></i>
                        <h3>Inserisci Manualmente</h3>
                        <p>Aggiungi i giocatori uno alla volta</p>
                        <button class="btn btn-success" id="wizardManualBtn">
                            <i class="fas fa-user-plus"></i> Inizia
                        </button>
                    </div>
                </div>

                <button id="wizardFinishCSV" class="btn btn-primary" disabled style="margin-top: 2rem;">
                    <i class="fas fa-check"></i> Continua
                </button>
            </div>
        </div>

        <!-- MENU HAMBURGER MOBILE -->
        <!-- Il resto dell'HTML... -->
        <!-- ✅ MENU HAMBURGER MOBILE -->
        <!-- ✅ SENZA style inline -->
        <!-- ✅ SENZA onclick -->
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>

        <!-- OVERLAY PER CHIUDERE IL MENU -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- ✅ SIDEBAR PRINCIPALE (UNICA) -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-futbol"></i>
                <h2>Fantacalcio</h2>
            </div>
            <nav class="sidebar-nav">
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="rosa">
                        <i class="fas fa-users"></i>
                        <span>Rosa Completa</span>
                    </a>
                    <a href="#" class="nav-item" data-section="formazione">
                        <i class="fas fa-trophy"></i>
                        <span>Migliore Formazione</span>
                    </a>
                    <a href="#" class="nav-item" data-section="topGiocatori">
                        <i class="fas fa-chart-bar"></i>
                        <span>Per Ruolo</span>
                    </a>
                    <a href="#" class="nav-item" data-section="classifica">
                        <i class="fas fa-ranking-star"></i>
                        <span>Classifica</span>
                    </a>
                    <a href="#" class="nav-item" data-section="import">
                        <i class="fas fa-file-import"></i>
                        <span>Importa Dati</span>
                    </a>
                    <a href="#" class="nav-item" data-section="gestione">
                        <i class="fas fa-cog"></i>
                        <span>Gestione</span>
                    </a>
                </nav>

            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="topbar">
                <div class="topbar-right">
                    <button class="btn btn-primary" id="calcPunteggi">
                        <i class="fas fa-calculator"></i>
                        Calcola Punteggi
                    </button>
                    <button class="btn btn-success" id="salvaDati">
                        <i class="fas fa-save"></i>
                        Salva
                    </button>
                    <!-- NUOVO: Pulsante reset -->
                    <button class="btn" id="resetData" style="background: var(--danger-color); color: white;">
                        <i class="fas fa-trash"></i>
                        Reset
                    </button>
                </div>

            </div>

            <input type="file" id="loadRosaJson" accept=".json" style="display: none;">
            <input type="file" id="loadClassificaJson" accept=".json" style="display: none;">


            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <h1>Dashboard</h1>

                <!-- Stats Cards -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon portieri">
            <i class="fas fa-hands"></i>
        </div>
        <div class="stat-info">
            <h3 id="numPortieri">0</h3>
            <p>Portieri</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon difensori">
            <i class="fas fa-shield-alt"></i>
        </div>
        <div class="stat-info">
            <h3 id="numDifensori">0</h3>
            <p>Difensori</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon centrocampisti">
            <i class="fas fa-running"></i>
        </div>
        <div class="stat-info">
            <h3 id="numCentrocampisti">0</h3>
            <p>Centrocampisti</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon attaccanti">
            <i class="fas fa-futbol"></i>
        </div>
        <div class="stat-info">
            <h3 id="numAttaccanti">0</h3>
            <p>Attaccanti</p>
        </div>
    </div>
</div>



                <!-- Top Players -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-star"></i> Top 5 Giocatori</h2>
                        </div>
                        <div class="card-body">
                            <div id="topPlayers" class="player-list"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-exclamation-triangle"></i> Giocatori Infortunati</h2>
                        </div>
                        <div class="card-body">
                            <div id="infortunati" class="player-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rosa Completa Section -->
            <section id="rosa" class="content-section">
                <h1>Rosa Completa</h1>
                <!-- Controlli superiori -->
                <div class="card" style="margin-bottom: 1rem;">
                    <div class="card-body" style="padding: 1rem;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; flex-wrap: wrap;">
                            <!-- Ordinamento -->
                            <div style="display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap;">
                                <span style="font-weight: 600; font-size: 0.9rem;">Ordina:</span>
                                <button class="btn btn-primary btn-sm" data-sort="punteggio">Punteggio</button>
                                <button class="btn btn-primary btn-sm" data-sort="nome">Nome</button>
                                <button class="btn btn-primary btn-sm" data-sort="ruolo">Ruolo</button>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Tabella -->
                <div class="card">
                    <div class="table-container">
                        <table class="centro">
                            <thead>
                                <tr>
                                    <th style="width: 5%;">Nome</th>
                                    <th style="width: 5%;">Ruolo</th>
                                    <th style="width: 15%;">Squadra</th>
                                    <th style="width: 12%;">Punteggio</th>
                                    <th style="width: 13%;">Titolarità</th>
                                    <th style="width: 10%;">Avversario</th>
                                    <th style="width: 10%;">Difficolta</th>
                                    <th style="width: 10%;">Stato</th>
                                    <th style="width: 10%;">Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="rosaTableBody"></tbody>
                        </table>
                    </div>
                </div>

            </section>

            <!-- Migliore Formazione Section -->
            <section id="formazione" class="content-section">
                <h1>Migliore Formazione</h1>
                <div class="formation-container">
                    <div class="campo-calcio">
                        <div class="formation-line">
                            <div id="formazionePortieri" class="formation-players"></div>
                        </div>
                        <div class="formation-line">
                            <div id="formazioneDifensori" class="formation-players"></div>
                        </div>
                        <div class="formation-line">
                            <div id="formazioneCentrocampisti" class="formation-players"></div>
                        </div>
                        <div class="formation-line">
                            <div id="formazioneAttaccanti" class="formation-players"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="topGiocatori" class="content-section">
                <!-- Il contenuto viene generato da JavaScript -->
            </section>

            <!-- Classifica Section -->
            <section id="classifica" class="content-section">
                <h1>Classifica Forza Serie A</h1>
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table id="classificaTable" class="data-table">
                                <thead class="classifica-header">
                                    <tr>
                                        <th>#</th>
                                        <th>Squadra</th>
                                        <th>Punti</th>
                                        <th>Forza</th>

                                    </tr>
                                </thead>
                                <tbody id="classificaTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Import Section -->
            <!-- Import Section - MIGLIORATA -->
            <section id="import" class="content-section">
                <h1>Importa Dati</h1>

                <!-- Info Box -->
                <div class="card" style="margin-bottom: 1.5rem; background: #e0f2fe;">
                    <div class="card-body">
                        <h3 style="margin-bottom: 1rem;"><i class="fas fa-info-circle"></i> Formati CSV richiesti</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <strong>Statistiche giocatori (delimiter: ; )</strong>
                                <p style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                    Nome;Squadra;Ruolo;Goals;Assist;Minuti;CleanSheet;GolSubiti;xGoals;xAssist;MediaVoto;MediaFantavoto;Titolarita;Infortunato;RigoriParati
                                </p>
                            </div>
                            <div>
                                <strong>Classifica (delimiter: ; )</strong>
                                <p style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                    Squadra;Punti
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="import-grid">
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-file-csv"></i> Importa Statistiche</h2>
                        </div>
                        <div class="card-body">
                            <div class="file-upload">
                                <input type="file" id="importStats" accept=".csv" hidden>
                                <label for="importStats" class="upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Carica file CSV statistiche</span>
                                </label>
                                <p class="file-info">Ruoli: P (Portiere), D (Difensore), C (Centrocampista), A
                                    (Attaccante)
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-ranking-star"></i> Importa Classifica (opzionale)</h2>
                        </div>
                        <div class="card-body">
                            <div class="file-upload">
                                <input type="file" id="importClassifica" accept=".csv" hidden>
                                <label for="importClassifica" class="upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Carica file CSV classifica</span>
                                </label>
                                <p class="file-info">Importa prima la classifica, poi le statistiche</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Gestione Section -->
            <section id="gestione" class="content-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <h1 style="margin: 0;">Gestione Rosa</h1>
                    <button class="btn btn-success" onclick="esportaGiocatoriCSV(rosa)">
                        <i class="fas fa-download"></i> Esporta Statistiche CSV
                    </button>

                </div>
                <div id="rosaManagementContainer" style="margin-bottom: 2rem;"></div>
                <!-- Aggiungi Nuovo Giocatore -->
                <div class="card"
                    style="background: linear-gradient(135deg, #ecfdf5, white); border: 2px solid var(--success-color); margin-bottom: 2rem;">
                    <div class="card-header"
                        style="background: linear-gradient(135deg, var(--success-color), #059669); color: white;">
                        <h2 style="margin: 0;"><i class="fas fa-user-plus"></i> Aggiungi Nuovo Giocatore</h2>
                    </div>
                    <div class="card-body" style="padding: 2rem;">
                        <form id="addNewPlayerForm">
                            <!-- Info Base -->
                            <div
                                style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;">
                                <h3 style="color: var(--success-color); margin-bottom: 1rem;">
                                    <i class="fas fa-info-circle"></i> Informazioni Base
                                </h3>
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                    <div>
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Nome:
                                            *</label>
                                        <input type="text" id="newNome" class="form-control" required>
                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Squadra:
                                            *</label>
                                        <select id="newSquadra" class="form-control" required>
                                            <option value="">Seleziona squadra...</option>
                                            <option value="Atalanta">Atalanta</option>
                                            <option value="Bologna">Bologna</option>
                                            <option value="Cagliari">Cagliari</option>
                                            <option value="Como">Como</option>
                                            <option value="Empoli">Empoli</option>
                                            <option value="Fiorentina">Fiorentina</option>
                                            <option value="Genoa">Genoa</option>
                                            <option value="Inter">Inter</option>
                                            <option value="Juventus">Juventus</option>
                                            <option value="Lazio">Lazio</option>
                                            <option value="Lecce">Lecce</option>
                                            <option value="Milan">Milan</option>
                                            <option value="Monza">Monza</option>
                                            <option value="Napoli">Napoli</option>
                                            <option value="Parma">Parma</option>
                                            <option value="Roma">Roma</option>
                                            <option value="Torino">Torino</option>
                                            <option value="Udinese">Udinese</option>
                                            <option value="Venezia">Venezia</option>
                                            <option value="Verona">Verona</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Ruolo:
                                            *</label>
                                        <select id="newRuolo" class="form-control" required>
                                            <option value="">Seleziona...</option>
                                            <option value="0">Portiere</option>
                                            <option value="1">Difensore</option>
                                            <option value="2">Centrocampista</option>
                                            <option value="3">Attaccante</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                                            <i class="fas fa-percentage"></i> Titolarità (%):
                                        </label>
                                        <input type="number" id="newTitolarita" class="form-control" value="90" min="0"
                                            max="100" step="1">
                                    </div>
                                </div>
                            </div>

                            <!-- Statistiche -->
                            <div
                                style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;">
                                <h3 style="color: var(--success-color); margin-bottom: 1rem;">
                                    <i class="fas fa-chart-bar"></i> Statistiche
                                </h3>
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                    <div>
                                        <label><i class="fas fa-futbol"></i> Goals:</label>
                                        <input type="number" id="newGoals" class="form-control" value="0" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hands-helping"></i> Assist:</label>
                                        <input type="number" id="newAssist" class="form-control" value="0" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-clock"></i> Minuti:</label>
                                        <input type="number" id="newMinuti" class="form-control" value="0" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-shield-alt"></i> Clean Sheet:</label>
                                        <input type="number" id="newCleanSheet" class="form-control" value="0" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-crosshairs"></i> Gol Subiti:</label>
                                        <input type="number" id="newGolSubiti" class="form-control" value="0" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hand-paper"></i> Rigori Parati:</label>
                                        <input type="number" id="newRigoriParati" class="form-control" value="0"
                                            min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-bolt"></i> xGoals:</label>
                                        <input type="number" id="newXgoals" class="form-control" value="0" min="0"
                                            step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hands-helping"></i> xAssist:</label>
                                        <input type="number" id="newXassist" class="form-control" value="0" min="0"
                                            step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-star"></i> Media Voto:</label>
                                        <input type="number" id="newMediaVoto" class="form-control" value="6" min="0"
                                            max="10" step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-trophy"></i> Media Fantavoto:</label>
                                        <input type="number" id="newMediaFantavoto" class="form-control" value="6"
                                            min="0" max="10" step="0.1">
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-success"
                                style="font-size: 1.1rem; padding: 0.75rem 2rem;">
                                <i class="fas fa-plus-circle"></i> Aggiungi Giocatore
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Editor Giocatore -->
                <div class="card"
                    style="background: linear-gradient(135deg, #f0f9ff, white); border: 2px solid var(--primary-color);">
                    <div class="card-header"
                        style="background: linear-gradient(135deg, var(--primary-color), #2563eb); color: white;">
                        <h2 style="margin: 0;"><i class="fas fa-user-edit"></i> Modifica Giocatore</h2>
                    </div>
                    <div class="card-body" style="padding: 2rem;">
                        <!-- Search giocatore -->
                        <div style="margin-bottom: 1.5rem;">
                            <label
                                style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--primary-color);">
                                <i class="fas fa-search"></i> Cerca e seleziona giocatore:
                            </label>
                            <input type="text" id="searchPlayerEdit" placeholder="🔍 Cerca per nome..."
                                onkeyup="filterPlayerSelect(this.value)"
                                style="width: 100%; padding: 0.75rem; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem; margin-bottom: 0.5rem;">
                            <select id="editPlayerSelect" class="form-control" onchange="loadPlayerForEdit()"
                                style="width: 100%; padding: 0.75rem; font-size: 1rem; border: 2px solid var(--primary-color); border-radius: 8px;">
                                <option value="">-- Seleziona giocatore --</option>
                            </select>
                        </div>

                        <div id="editPlayerForm" style="display: none;">
                            <!-- Info Base -->
                            <div
                                style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;">
                                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                                    <i class="fas fa-info-circle"></i> Informazioni Base
                                </h3>
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                    <div>
                                        <label
                                            style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Nome:</label>
                                        <input type="text" id="editNome" class="form-control" disabled
                                            style="background: #f3f4f6; font-weight: 700; font-size: 1.1rem;">
                                    </div>
                                    <div>
                                        <label
                                            style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Squadra:</label>
                                        <select id="editSquadra" class="form-control">
                                            <option value="">Seleziona squadra...</option>
                                            <option value="Atalanta">Atalanta</option>
                                            <option value="Bologna">Bologna</option>
                                            <option value="Cagliari">Cagliari</option>
                                            <option value="Como">Como</option>
                                            <option value="Empoli">Empoli</option>
                                            <option value="Fiorentina">Fiorentina</option>
                                            <option value="Genoa">Genoa</option>
                                            <option value="Inter">Inter</option>
                                            <option value="Juventus">Juventus</option>
                                            <option value="Lazio">Lazio</option>
                                            <option value="Lecce">Lecce</option>
                                            <option value="Milan">Milan</option>
                                            <option value="Monza">Monza</option>
                                            <option value="Napoli">Napoli</option>
                                            <option value="Parma">Parma</option>
                                            <option value="Roma">Roma</option>
                                            <option value="Torino">Torino</option>
                                            <option value="Udinese">Udinese</option>
                                            <option value="Venezia">Venezia</option>
                                            <option value="Verona">Verona</option>
                                        </select>

                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                                            <i class="fas fa-percentage"></i> Titolarità (%):
                                        </label>
                                        <input type="number" id="editTitolarita" class="form-control" min="0" max="100"
                                            step="12.5">
                                    </div>
                                </div>
                            </div>

                            <!-- Stato -->
                            <div
                                style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;">
                                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                                    <i class="fas fa-heartbeat"></i> Stato Giocatore
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                                    <label class="stato-option"
                                        style="cursor: pointer; padding: 1rem; border: 2px solid #ddd; border-radius: 8px; text-align: center; transition: all 0.2s;">
                                        <input type="radio" name="editStato" value="disponibile"
                                            style="margin-right: 0.5rem;">
                                        <i class="fas fa-check-circle"
                                            style="color: var(--success-color); font-size: 1.5rem; display: block; margin-bottom: 0.5rem;"></i>
                                        <span style="font-weight: 600;">Disponibile</span>
                                    </label>
                                    <label class="stato-option"
                                        style="cursor: pointer; padding: 1rem; border: 2px solid #ddd; border-radius: 8px; text-align: center; transition: all 0.2s;">
                                        <input type="radio" name="editStato" value="infortunato"
                                            style="margin-right: 0.5rem;">
                                        <i class="fas fa-ambulance"
                                            style="color: var(--danger-color); font-size: 1.5rem; display: block; margin-bottom: 0.5rem;"></i>
                                        <span style="font-weight: 600;">Infortunato</span>
                                    </label>
                                    <label class="stato-option"
                                        style="cursor: pointer; padding: 1rem; border: 2px solid #ddd; border-radius: 8px; text-align: center; transition: all 0.2s;">
                                        <input type="radio" name="editStato" value="squalificato"
                                            style="margin-right: 0.5rem;">
                                        <i class="fas fa-ban"
                                            style="color: var(--warning-color); font-size: 1.5rem; display: block; margin-bottom: 0.5rem;"></i>
                                        <span style="font-weight: 600;">Non disponibile</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Statistiche -->
                            <div
                                style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;">
                                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                                    <i class="fas fa-chart-bar"></i> Statistiche
                                </h3>
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                    <div>
                                        <label><i class="fas fa-futbol"></i> Goals:</label>
                                        <input type="number" id="editGoals" class="form-control" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hands-helping"></i> Assist:</label>
                                        <input type="number" id="editAssist" class="form-control" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-clock"></i> Minuti:</label>
                                        <input type="number" id="editMinuti" class="form-control" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-shield-alt"></i> Clean Sheet:</label>
                                        <input type="number" id="editCleanSheet" class="form-control" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-crosshairs"></i> Gol Subiti:</label>
                                        <input type="number" id="editGolSubiti" class="form-control" min="0">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-bolt"></i> xGoals:</label>
                                        <input type="number" id="editXgoals" class="form-control" min="0" step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hands-helping"></i> xAssist:</label>
                                        <input type="number" id="editXassist" class="form-control" min="0" step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-star"></i> Media Voto:</label>
                                        <input type="number" id="editMediaVoto" class="form-control" min="0" max="10"
                                            step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-trophy"></i> Media Fantavoto:</label>
                                        <input type="number" id="editMediaFantavoto" class="form-control" min="0"
                                            max="10" step="0.1">
                                    </div>
                                    <div>
                                        <label><i class="fas fa-hand-paper"></i> Rigori Parati:</label>
                                        <input type="number" id="editRigoriParati" class="form-control" min="0">
                                    </div>


                                    <!-- Dopo Media Fantavoto -->

                                </div>
                            </div>

                            <!-- Pulsanti azione -->
                            <div style="display: flex; gap: 1rem; justify-content: center;">
                                <button class="btn btn-success" data-action="save-player">
                                    <i class="fas fa-save"></i> Salva Modifiche
                                </button>
                                <button class="btn" data-action="cancel-edit">
                                    <i class="fas fa-times"></i> Annulla
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Editor Classifica -->
                <div class="card"
                    style="margin-top: 2rem; background: linear-gradient(135deg, #fef3c7, white); border: 2px solid var(--warning-color);">
                    <div class="card-header"
                        style="background: linear-gradient(135deg, var(--warning-color), #d97706); color: white;">
                        <h2 style="margin: 0;"><i class="fas fa-ranking-star"></i> Modifica Classifica Forza Serie A
                        </h2>
                    </div>
                    <div class="card-body" style="padding: 2rem;">
                        <div id="classificaEditor" style="background: white; padding: 1.5rem; border-radius: 12px;">
                        </div>
                        <button class="btn btn-success" data-action="save-classifica">
                            <i class="fas fa-save"></i> Salva Classifica
                        </button>
                    </div>
                </div>
            </section>

        </div>

        <!-- Modal Dettagli Giocatore -->
        <div id="playerModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalPlayerName"></h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body" id="modalPlayerBody"></div>
            </div>
        </div>

        <script src="script.js?v=3"></script>

    </body>

</html>